  SYSTEM$RESTORE_PRIVATELINK_ENDPOINT  ¶

[ ![Snowflake logo in black \(no text\)](../../_images/logo-snowflake-
black.png) ](../../_images/logo-snowflake-black.png) [ Preview Feature
](../../release-notes/preview-features) — Open

Available to all accounts.

Restores a private connectivity endpoint in the Snowflake VPC or VNet to
enable Snowflake to connect to an external service using private connectivity.
The endpoint can be a service endpoint or a resource endpoint depending on the
cloud platform that hosts your Snowflake account.

You can restore a private endpoint within 7 days of deprovisioning it. After 7
days, the endpoint cannot be restored and you need to recreate the endpoint
with the [ SYSTEM$PROVISION_PRIVATELINK_ENDPOINT
](system_provision_privatelink_endpoint) system function.

See also:

    

[ Introduction to private connectivity  ](../../user-guide/private-connect-
overview) , [ Manage private connectivity endpoints: Azure  ](../../user-
guide/private-manage-endpoints-azure)

##  Syntax  ¶

###  Azure Private Link service  ¶

    
    
    SYSTEM$RESTORE_PRIVATELINK_ENDPOINT( '<provider_resource_id>' )
    

Copy

###  All other external services  ¶

    
    
    SYSTEM$RESTORE_PRIVATELINK_ENDPOINT(
      '<provider_resource_id>' ,
      '<subresource>'
      )
    

Copy

##  Arguments  ¶

` _ provider_resource_id  _ `

    

Specifies the fully-qualified identifier for the resource or service in your
VPC or VNet.

` '  _ subresource  _ '  `

    

Specifies the name of the subresource in the ` host_name  ` argument; the `
host_name  ` value is used when provisioning the private endpoint.

If you want to use outbound private connectivity with the following services,
specify these values:

  * External network access on Microsoft Azure: If the hostname value is ` externalaccessdemo.database.windows.net  ` , the ` _ subresource  _ ` value is ` sqlServer  ` . 

  * External stages on Microsoft Azure: If the hostname value is ` storagedemo.blob.core.windows.net  ` , the ` _ subresource  _ ` value is ` blob  ` . 

For all supported values, see the [ Sub-resource table
](https://learn.microsoft.com/en-us/azure/private-link/private-endpoint-
overview#private-link-resource) .

##  Returns  ¶

Returns a status message stating that the endpoint, with its identifier, is
restored successfully.

Azure:

    
    
    Private endpoint with id '/subscriptions/66666666-7777-8888-9999-0000000000/resourcegroups/rg/providers/microsoft.network/privateendpoints/00000000-1111-2222-3333-4444444444' restored successfully.
    

##  Usage notes  ¶

  * Only account administrators (users with the ACCOUNTADMIN role) can call this function. 

  * An error message occurs if a private connectivity endpoint is not associated with the specified arguments. 

##  Examples  ¶

Restore a private endpoint to allow Snowflake on Microsoft Azure to connect to
the Azure API Management service in your Azure VNet:

    
    
    SELECT SYSTEM$RESTORE_PRIVATELINK_ENDPOINT(
      '/subscriptions/11111111-2222-3333-4444-5555555555/resourceGroups/my_rg/providers/Microsoft.Sql/servers/my_db_server',
      'sqlServer'
    );
    

Copy

    
    
    Private endpoint with id ''/subscriptions/66666666-7777-8888-9999-0000000000/resourcegroups/rg/providers/microsoft.network/privateendpoints/00000000-1111-2222-3333-4444444444'' restored successfully.
    

